<div class="d-flex justify-content-between align-items-center mt-5 ms-5 me-5">
  <!-- Favourites Section -->
  <div>
    <h2 class="fw-bold"><span style="font-size: 0.9em;">‚ù§Ô∏è</span> Favourites</h2>
    <nav aria-label="breadcrumb mb-0">
      <ol class="breadcrumb mb-0">
        <li class="breadcrumb-item mb-0">
          <p class="text-muted mb-0">User</p>
        </li>
        <li class="breadcrumb-item active fw-semibold text-danger" aria-current="page">Favourites</li>
      </ol>
    </nav>
  </div>

  <!-- Toggle Button Group (Aligned to Right) -->
  <div class="btn-group rounded-pill border p-1 bg-light" role="group">
    <input type="radio" class="btn-check" name="toggle" id="events" autocomplete="off" checked
      (change)="toggleCategory('events')">
    <label class="btn btn-light rounded-5 me-1 px-3 no-border fs-6" for="events">Shows</label>

    <input type="radio" class="btn-check border border-dark" name="toggle" id="matches" autocomplete="off"
      (change)="toggleCategory('matches')">
    <label class="btn btn-light rounded-5 w-50 no-border fs-6" for="matches">Matches</label>
  </div>
</div>




<div *ngIf="selectedCategory === 'events'">
  <div *ngFor="let event of paginatedEvents" class="show-container row px-4 py-3 border-bottom rounded bg-white mx-2">
    <!-- Left Section: Event Image -->
    <div class="col-md-auto text-center pe-md-3 mt-md-3">
      <img [src]="event.imageSmall" class="imgH img-fluid rounded-4" alt="Event Image" style="max-width: 350px;">
    </div>

    <!-- Right Section: Event Details & Actions -->
    <div class="col d-flex flex-column ms-md-3 bg-light pt-2 rounded-3">
      <!-- Title & Favorite -->
      <div class="d-flex justify-content-between align-items-start ms-3">
        <h2 class="flex-grow-1">üéüÔ∏è {{ event.title }}</h2>

        <button class="hoverbtn btn fav-btn d-flex align-items-center fs-5 ms-auto me-2 bg-white shadow"
          (click)="toggleFavoriteEvent(event)">
          <i class="bi" [ngClass]="event.isFavorite ? 'bi-heart-fill text-danger' : 'bi-heart text-dark'"></i>
        </button>
      </div>

      <!-- Category Badge -->
      <div class="d-flex gap-2 align-items-center ms-3">
        <span
          class="badge-item bg-white text-danger shadow-sm fs-6 p-2 d-inline-flex align-items-center rounded-3 me-1">
          {{ categoryIcons[event.category] }} {{ event.category }}
        </span>

        <span
          class="badge-item bg-white text-danger shadow-sm fs-6 p-2 d-inline-flex align-items-center rounded-3 me-1">
          ‚≠ê {{ event.rating }}
        </span>

        <span
          class="badge-item bg-white text-danger shadow-sm fs-6 p-2 d-inline-flex align-items-center rounded-3 me-1">
          üî• {{ event.word }}
        </span>
      </div>

      <div class="d-flex flex-wrap justify-content-between align-items-start px-3 pt-1 rounded-5">
        <!-- Event Information -->
        <div class="info-box px-4 py-1 rounded-3 text-dark w-50">
          <h6 class="border-bottom py-2 d-flex align-items-center">
            <i class="bi bi-calendar3 me-2 text-danger fs-5"></i>
            <span class="fw-semibold">{{ event.date }}</span>
          </h6>
          <h6 class="border-bottom py-2 d-flex align-items-center">
            <i class="bi bi-geo-alt-fill me-2 text-danger fs-5"></i>
            <span class="fw-semibold">{{ event.location }}</span>
          </h6>
          <h6 class="border-bottom py-2 d-flex align-items-center">
            <i class="bi bi-cash-stack me-2 text-danger fs-5"></i>
            <span class="fw-semibold">Price From ${{ event.price }}</span>
          </h6>
        </div>

        <!-- Action Buttons -->
        <div class="d-flex flex-column align-items-end mt-4">
          <!-- More Info & Share Buttons in the Same Row -->
          <div class="d-flex gap-2 mb-3 w-100" style="max-width: 320px;">
            <a routerLink="/shows/5"
              class="hoverbtn btn bg-white text-danger flex-grow-1 rounded px-3 py-2 shadow transition">
              <i class="bi bi-info-circle me-2"></i> More Info
            </a>
            <button class="hoverbtn btn bg-white text-danger flex-grow-1 rounded px-3 py-2 shadow transition"
              (click)="shareItem(event)">
              Share it <i class="bi bi-share-fill ms-2"></i>
            </button>
          </div>

          <!-- BOOK NOW Button Below with Same Width -->
          <a routerLink="/bookingEvent"
            class="hoverbtn btn btn-danger text-white rounded px-4 py-2 d-flex align-items-center justify-content-center shadow-lg transition w-100"
            style="max-width: 320px;">
            <i class="bi bi-ticket me-2"></i> BOOK NOW
          </a>
        </div>

      </div>
    </div>
  </div>
</div>


<div *ngIf="selectedCategory === 'matches'">
  <div *ngFor="let match of paginatedMatches" class="show-container row  py-3 border-bottom rounded bg-white mx-2">

    <div class="d-flex flex-column flex-xl-row align-items-stretch mx-auto bg-white rounded-3 ">
    
      <div class="d-flex flex-column align-items-center col-12 col-xl-3 h-100 mt-3">
        <div class="d-flex flex-column align-items-center">
          <div class="d-flex align-items-center justify-content-center">
            <div class="d-flex flex-column align-items-center mx-3">
              <img [src]="match.team1Logo" class="img-fluid rounded-4" alt="{{ match.team1 }}" 
                   style="max-width: 50px; max-height: 50px;">
              <h6 class="mt-1 mb-1 fw-bold text-center ">{{ match.team1 }}</h6>
            </div>
            <div class="fw-bold text-danger fs-4 mx-3">VS</div>
            <div class="d-flex flex-column align-items-center mx-3">
              <img [src]="match.team2Logo" class="img-fluid rounded-4" alt="{{ match.team2 }}" 
                   style="max-width: 50px; max-height: 50px;">
              <h6 class="mt-1 mb-1 fw-bold text-center ">{{ match.team2 }}</h6>
            </div>
          </div>
        </div>
      </div>
      <!-- Right Section: Event Details & Actions (Full Width on Small/Large, 75% on Extra-Large) -->
      <div class="col-12 col-xl-9 d-flex flex-column ms-md-4 bg-light pt-2 rounded-3 h-100 p-3">
        <!-- Title & Favorite -->
        <div class="d-flex justify-content-between align-items-start ms-2">
          <h2 class="flex-grow-1">üèüÔ∏è {{ match.venue }}</h2>
          <button class="hoverbtn btn fav-btn d-flex align-items-center fs-5 ms-auto me-2 bg-white shadow"
            (click)="toggleFavoriteMatch(match)">
            <i class="bi" [ngClass]="match.isFavorite ? 'bi-heart-fill text-danger' : 'bi-heart text-dark'"></i>
          </button>
        </div>

        <!-- Category Badges -->
        <div class="d-flex gap-2 align-items-center ms-2">
          <span class="badge-item bg-white text-danger shadow-sm fs-6 p-2 rounded-3">{{ match.category }}</span>
          <span class="badge-item bg-white text-danger shadow-sm fs-6 p-2 rounded-3">{{ match.adv }}</span>
          <span class="badge-item bg-white text-danger shadow-sm fs-6 p-2 rounded-3">{{ match.word }}</span>
        </div>

        <!-- Event Information -->
        <div class="d-flex flex-wrap justify-content-between align-items-start px-3 pt-1">
          <div class="info-box px-4 py-1 rounded-3 text-dark w-50">
            <h6 class="border-bottom py-2 d-flex align-items-center">
              <i class="bi bi-calendar3 me-2 text-danger fs-5"></i>
              <span class="fw-semibold">{{ match.date }}</span>
            </h6>
            <h6 class="border-bottom py-2 d-flex align-items-center">
              <i class="bi bi-clock me-2 text-danger fs-5"></i>
              <span class="fw-semibold">{{ match.time }}</span>
            </h6>
            <h6 class="border-bottom py-2 d-flex align-items-center">
              <i class="bi bi-cash-stack me-2 text-danger fs-5"></i>
              <span class="fw-semibold">Price From ${{ match.price }}</span>
            </h6>
          </div>

          <!-- Action Buttons -->
          <div class="d-flex flex-column align-items-end mt-4">
            <div class="d-flex gap-2 mb-3 w-100" style="max-width: 320px;">
              <a routerLink="/shows/5" class="hoverbtn btn bg-white text-danger flex-grow-1 rounded px-3 py-2 shadow">
                <i class="bi bi-info-circle me-2"></i> More Info
              </a>
              <button class="hoverbtn btn bg-white text-danger flex-grow-1 rounded px-3 py-2 shadow"
                (click)="shareItem(match)">
                Share it <i class="bi bi-share-fill ms-2"></i>
              </button>
            </div>
            <a routerLink="/bookingEvent" class="hoverbtn btn btn-danger text-white rounded px-4 py-2 shadow-lg w-100"
              style="max-width: 320px;">
              <i class="bi bi-ticket me-2"></i> BOOK NOW
            </a>
          </div>
        </div>
      </div>
    </div>

  </div>

</div>

@if(events.length>0 && selectedCategory === 'events')
{
<!-- Pagination for Events -->
<nav aria-label="Events Page navigation" *ngIf="selectedCategory === 'events'">
  <ul class="pagination justify-content-center mt-4">
    <!-- Previous Button -->
    <li class="page-item" [class.disabled]="currentPageEvent === 1">
      <a class="page-link text-danger" (click)="changePageEvent(currentPageEvent - 1)" aria-label="Previous">
        Previous
      </a>
    </li>

    <!-- Page Numbers -->
    <li class="page-item" *ngFor="let page of [].constructor(totalPagesEvent); let i = index"
      [class.active]="currentPageEvent === i + 1">
      <a class="page-link"
        [ngClass]="{ 'text-white bg-danger border-danger': currentPageEvent === i + 1, 'text-danger': currentPageEvent !== i + 1 }"
        (click)="changePageEvent(i + 1)">
        {{ i + 1 }}
      </a>
    </li>

    <!-- Next Button -->
    <li class="page-item" [class.disabled]="currentPageEvent === totalPagesEvent">
      <a class="page-link text-danger" (click)="changePageEvent(currentPageEvent + 1)" aria-label="Next">
        Next
      </a>
    </li>
  </ul>
</nav>
}
@else if(paginatedEvents.length<=0 && selectedCategory==='events' ) { <div class="text-center text-danger my-5 py-5">
  <i class="bi bi-exclamation-circle fs-1"></i>
  <p class="mt-2 fw-bold">No favourites found</p>
  </div>
  }

  @if(matches.length>0 && selectedCategory === 'matches')
  {
  <!-- Pagination for Matches -->
  <nav aria-label="Matches Page navigation" *ngIf="selectedCategory === 'matches'">
    <ul class="pagination justify-content-center mt-4">
      <!-- Previous Button -->
      <li class="page-item" [class.disabled]="currentPageMatch === 1">
        <a class="page-link text-danger" (click)="changePageMatch(currentPageMatch - 1)" aria-label="Previous">
          Previous
        </a>
      </li>

      <!-- Page Numbers -->
      <li class="page-item" *ngFor="let page of [].constructor(totalPagesMatch); let i = index"
        [class.active]="currentPageMatch === i + 1">
        <a class="page-link"
          [ngClass]="{ 'text-white bg-danger border-danger': currentPageMatch === i + 1, 'text-danger': currentPageMatch !== i + 1 }"
          (click)="changePageMatch(i + 1)">
          {{ i + 1 }}
        </a>
      </li>

      <!-- Next Button -->
      <li class="page-item" [class.disabled]="currentPageMatch === totalPagesMatch">
        <a class="page-link text-danger" (click)="changePageMatch(currentPageMatch + 1)" aria-label="Next">
          Next
        </a>
      </li>
    </ul>
  </nav>
  }

  @else if(paginatedMatches.length<=0 && selectedCategory==='matches' ) { <div
    class="text-center text-danger my-5 py-5">
    <i class="bi bi-exclamation-circle fs-1"></i>
    <p class="mt-2 fw-bold">No favourites found</p>
    </div>
    }
